<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="UTF-8">
  <title>预警提醒原型图</title>
  <style>
    body { background: #f7f8fa; font-family: 'Segoe UI', Arial, sans-serif; }
    .main { max-width: 400px; margin: 32px auto; background: #fff; border-radius: 12px; box-shadow: 0 2px 8px #0001; padding: 32px 24px; }
    h2 { text-align: center; margin-bottom: 24px; }
    .alert-list { border-top: 1px solid #eee; }
    .alert-item { display: flex; align-items: center; justify-content: space-between; padding: 14px 0; border-bottom: 1px solid #f0f0f0; gap: 12px; font-size: 1.08em; }
    .alert-main { display: flex; flex-direction: row; align-items: center; gap: 12px; min-width: 0; flex: 1; }
    .stock-name { font-weight: bold; font-size: 1em; margin-right: 12px; }
    .alert-meta { color: #888; font-size: 0.98em; }
    .actions { display: flex; gap: 6px; }
    .actions button { padding: 6px 14px; border: none; border-radius: 6px; background: #eee; cursor: pointer; white-space: nowrap; }
    .actions button.primary { background: #1976d2; color: #fff; }
    .add-bar { margin: 18px 0 0 0; text-align: right; }
    .add-bar button { background: #1976d2; color: #fff; border: none; border-radius: 6px; padding: 8px 18px; cursor: pointer; white-space: nowrap; }
    /* 预警弹窗样式 */
    .modal-mask { position: fixed; left: 0; top: 0; right: 0; bottom: 0; background: #0005; z-index: 200; display: flex; align-items: center; justify-content: center; }
    .modal { background: #fff; border-radius: 10px; box-shadow: 0 2px 16px #0002; padding: 28px 22px 18px 22px; min-width: 280px; max-width: 92vw; }
    .modal h3 { margin: 0 0 18px 0; font-size: 1.13em; text-align: center; }
    .modal-row { margin-bottom: 14px; display: flex; align-items: center; gap: 10px; }
    .modal-row label { min-width: 60px; color: #555; }
    .modal-row select, .modal-row input { padding: 6px 10px; border: 1px solid #ddd; border-radius: 5px; font-size: 1em; }
    .modal-actions { text-align: right; margin-top: 10px; }
    .modal-actions button { margin-left: 10px; padding: 6px 18px; border: none; border-radius: 6px; background: #eee; cursor: pointer; }
    .modal-actions button.primary { background: #1976d2; color: #fff; }
  </style>
</head>
<body>
  <div class="main">
    <!-- 去除标题 -->
    <div class="alert-list">
      <div class="alert-item">
        <div class="alert-main">
          <span class="stock-name">浦发银行</span>
          <span class="alert-meta">价格高于 11.00 元时提醒</span>
        </div>
        <div class="actions">
          <button onclick="openAlertModal('浦发银行', '价格高于', '11.00')">编辑</button>
          <button class="primary">删除</button>
        </div>
      </div>
      <div class="alert-item">
        <div class="alert-main">
          <span class="stock-name">腾讯控股</span>
          <span class="alert-meta">跌幅大于 5% 时提醒</span>
        </div>
        <div class="actions">
          <button onclick="openAlertModal('腾讯控股', '跌幅大于', '5')">编辑</button>
          <button class="primary">删除</button>
        </div>
      </div>
    </div>
    <div class="add-bar">
      <button onclick="openAlertModal()">添加预警</button>
    </div>

<!-- 预警弹窗 -->
<div id="alertModal" class="modal-mask" style="display:none;">
  <div class="modal">
    <h3 id="modalTitle">添加预警</h3>
    <div class="modal-row">
      <label>股票</label>
      <input id="modalStock" type="text" placeholder="如 浦发银行" style="width:120px;">
    </div>
    <div class="modal-row">
      <label>类型</label>
      <select id="modalType" onchange="onTypeChange()">
        <option value="price">价格</option>
        <option value="percent">涨跌幅</option>
      </select>
    </div>
    <div class="modal-row" id="rowPrice">
      <label>条件</label>
      <select id="modalCond">
        <option value=">">高于</option>
        <option value="<">低于</option>
      </select>
      <input id="modalValue" type="number" placeholder="如 11.00" style="width:80px;">
      <span id="modalUnit">元</span>
    </div>
    <div class="modal-row" id="rowPercent" style="display:none;">
      <label>条件</label>
      <select id="modalCondPercent">
        <option value=">">涨幅大于</option>
        <option value="<">跌幅大于</option>
      </select>
      <input id="modalValuePercent" type="number" placeholder="如 5" style="width:60px;">
      <span>%</span>
    </div>
    <div class="modal-actions">
      <button onclick="closeAlertModal()">取消</button>
      <button class="primary" onclick="confirmAlertModal()">确定</button>
    </div>
  </div>
</div>
  </div>

<!-- 底部Tab栏 -->
<div style="position:fixed;left:0;right:0;bottom:0;height:56px;background:#fff;border-top:1px solid #e0e0e0;display:flex;z-index:100;max-width:400px;margin:auto;box-shadow:0 -2px 8px #0001;">
  <div onclick="onTabClick(0)" style="flex:1;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:0.98em;">首页</div>
  <div onclick="onTabClick(1)" style="flex:1;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#1976d2;font-weight:bold;font-size:0.98em;">预警中心</div>
  <div onclick="onTabClick(2)" style="flex:1;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:0.98em;">个人中心</div>
</div>
<script>
function onTabClick(idx) {
  if(idx===0){ window.location.href='index_page.html'; }
  else if(idx===1){ alert('已在预警中心'); }
  else if(idx===2){ window.location.href='user_page.html'; }
}

// 预警弹窗逻辑
function openAlertModal(stock, type, value) {
  document.getElementById('alertModal').style.display = 'flex';
  document.getElementById('modalTitle').innerText = stock ? '编辑预警' : '添加预警';
  document.getElementById('modalStock').value = stock || '';
  if(type === '跌幅大于' || type === '涨幅大于') {
    document.getElementById('modalType').value = 'percent';
    document.getElementById('rowPrice').style.display = 'none';
    document.getElementById('rowPercent').style.display = '';
    document.getElementById('modalValuePercent').value = value || '';
    document.getElementById('modalCondPercent').value = type === '跌幅大于' ? '<' : '>';
  } else {
    document.getElementById('modalType').value = 'price';
    document.getElementById('rowPrice').style.display = '';
    document.getElementById('rowPercent').style.display = 'none';
    document.getElementById('modalValue').value = value || '';
    document.getElementById('modalCond').value = type === '价格低于' ? '<' : '>';
  }
}
function closeAlertModal() {
  document.getElementById('alertModal').style.display = 'none';
}
function onTypeChange() {
  var type = document.getElementById('modalType').value;
  if(type === 'price') {
    document.getElementById('rowPrice').style.display = '';
    document.getElementById('rowPercent').style.display = 'none';
  } else {
    document.getElementById('rowPrice').style.display = 'none';
    document.getElementById('rowPercent').style.display = '';
  }
}
function confirmAlertModal() {
  var stock = document.getElementById('modalStock').value.trim();
  var type = document.getElementById('modalType').value;
  if(!stock) { alert('请输入股票名称'); return; }
  if(type === 'price') {
    var cond = document.getElementById('modalCond').value;
    var val = document.getElementById('modalValue').value;
    if(!val) { alert('请输入价格'); return; }
    alert('已设置预警：'+stock+' 价格'+(cond==='>'?'高于':'低于')+' '+val+'元');
  } else {
    var cond = document.getElementById('modalCondPercent').value;
    var val = document.getElementById('modalValuePercent').value;
    if(!val) { alert('请输入涨跌幅'); return; }
    alert('已设置预警：'+stock+' '+(cond==='>'?'涨幅大于':'跌幅大于')+' '+val+'%');
  }
  closeAlertModal();
}
</script>
</body>
</html>
