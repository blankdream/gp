# 股票投资管理小程序使用说明

## 项目概述

本项目是基于 uni-app + vk-unicloud-router 框架开发的股票投资管理小程序，支持A股、港股的股票池管理、实时行情查看、价格预警等功能。

## 技术架构

- **前端框架**: uni-app + Vue 3.0
- **后端**: uniCloud云函数 + vk-unicloud-router 
- **UI组件**: vk-uview-ui
- **数据来源**: 腾讯财经API（直接调用）
- **用户系统**: uni-id

## 主要功能

### 1. 股票池管理（首页）

#### 功能特性
- **股票列表展示**: 显示用户自选股票，包含股票名称、代码、实时价格、涨跌幅、换手率
- **实时行情更新**: 自动每2秒刷新一次行情数据
- **分组管理**: 支持将股票按自定义分组进行管理
- **股票搜索添加**: 支持通过股票代码或名称搜索并添加到股票池
- **拖拽排序**: 支持长按拖拽调整股票显示顺序
- **详情展开**: 点击股票卡片可展开查看详细行情信息和K线数据

#### 操作说明
1. **查看股票**: 首页默认显示所有自选股票
2. **切换分组**: 点击顶部分组选择器可筛选不同分组的股票
3. **添加股票**: 底部搜索框输入股票代码/名称，选择搜索结果添加到指定分组
4. **查看详情**: 点击股票卡片展开/收起详细信息
5. **调整顺序**: 长按股票卡片0.4秒进入拖拽模式，拖动到目标位置
6. **管理分组**: 点击"分组管理"按钮可添加、删除、重命名分组

### 2. 预警中心

#### 功能特性
- **价格预警**: 设置股票价格达到指定值时的提醒
- **涨跌幅预警**: 设置涨跌幅达到指定百分比时的提醒  
- **预警历史**: 查看历史预警记录和触发情况
- **预警状态管理**: 可启用/禁用特定预警

#### 操作说明
1. **添加预警**: 选择股票，设置预警条件（价格/涨跌幅）和提醒方式
2. **管理预警**: 查看、编辑、删除已设置的预警
3. **查看历史**: 浏览预警触发历史记录

### 3. 个人中心

#### 功能特性
- **用户信息管理**: 显示用户昵称、手机号、登录时间等信息
- **资料编辑**: 修改昵称、个人简介等信息
- **账户安全**: 绑定手机号、修改密码
- **关于应用**: 查看应用版本信息和免责声明

#### 操作说明
1. **登录**: 未登录状态下点击"立即登录"进入登录页面
2. **编辑资料**: 点击"编辑资料"可修改昵称和个人简介
3. **绑定手机**: 未绑定手机号的用户可点击"绑定手机"进行绑定
4. **修改密码**: 点击"修改密码"进入密码修改页面
5. **退出登录**: 点击"退出登录"清除本地登录信息

## 数据库结构

### 股票池表 (stock_pool)
- `uid`: 用户ID
- `stock_code`: 股票代码（如 sh600000）
- `stock_name`: 股票名称
- `group_name`: 分组名称
- `remark`: 备注信息
- `sort_order`: 排序序号

### 分组表 (stock_group)  
- `uid`: 用户ID
- `group_name`: 分组名称
- `sort_order`: 排序序号

### 预警表 (stock_alert)
- `uid`: 用户ID  
- `stock_code`: 股票代码
- `stock_name`: 股票名称
- `alert_type`: 预警类型（price_up/price_down/percent_up/percent_down）
- `target_value`: 目标值
- `is_active`: 是否启用
- `trigger_count`: 触发次数

## API接口说明

### 股票池管理
- `stock/pool/list` - 获取股票池列表
- `stock/pool/add` - 添加股票到池子
- `stock/pool/delete` - 从池子删除股票
- `stock/pool/updateSort` - 更新股票排序

### 分组管理  
- `stock/group/list` - 获取分组列表
- `stock/group/add` - 添加分组
- `stock/group/delete` - 删除分组
- `stock/group/update` - 更新分组信息

### 预警管理
- `stock/alert/list` - 获取预警列表
- `stock/alert/add` - 添加预警
- `stock/alert/update` - 更新预警状态
- `stock/alert/delete` - 删除预警

### 腾讯财经API（直接调用）
- **实时行情**: `https://qt.gtimg.cn/q={股票代码}`
- **K线数据**: `https://web.ifzq.gtimg.cn/appstock/app/fqkline/get?param={参数}`  
- **股票搜索**: `https://smartbox.gtimg.cn/s3/?t=all&q={关键词}`
- **股票详情**: `https://stock.gtimg.cn/data/index.php?appn=detail&action=info&c={代码}`

## 开发部署

### 环境要求
- HBuilderX 3.0+
- uniCloud 阿里云版
- 微信开发者工具（小程序调试）

### 本地开发
1. 使用HBuilderX打开项目
2. 配置uniCloud云函数（右键router文件夹 -> 上传并运行云函数）
3. 运行到浏览器/小程序模拟器进行调试

### 小程序发布
1. 在HBuilderX中点击"发行" -> "小程序-微信"
2. 在微信开发者工具中打开生成的项目
3. 点击"上传"提交审核

## 注意事项

### API调用限制
- 腾讯财经API为免费公开接口，建议控制调用频率
- 实时行情每2秒刷新一次，避免频繁请求
- 搜索股票时做了300ms防抖处理

### 数据准确性
- 股票数据仅供参考，不构成投资建议
- 实际交易请以券商数据为准
- 投资有风险，入市需谨慎

### 兼容性
- 支持微信小程序、H5、APP等多端运行
- 推荐使用微信小程序获得最佳体验
- 某些功能在不同平台可能存在差异

## 版本信息

**当前版本**: v1.0.0

**更新记录**:
- v1.0.0: 初始版本，包含股票池管理、实时行情、预警中心、用户中心等基础功能

## 联系支持

如有问题或建议，请通过以下方式联系：
- 项目地址: [GitHub仓库地址]
- 邮箱支持: [支持邮箱]
- 技术文档: 详见项目README.md

---

**免责声明**: 本应用提供的股票信息仅供参考，不构成投资建议。投资有风险，入市需谨慎。